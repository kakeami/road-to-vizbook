
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4. 基礎分析 &#8212; 技術書を出版するまでの1161時間50分38秒</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ed87cb9e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '01/eda';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="../_static/clock.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. 量を見る" href="../02/amounts.html" />
    <link rel="prev" title="3. 前処理" href="preprocess.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/clock.png" class="logo__image only-light" alt="技術書を出版するまでの1161時間50分38秒 - Home"/>
    <script>document.write(`<img src="../_static/clock.png" class="logo__image only-dark" alt="技術書を出版するまでの1161時間50分38秒 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">データの準備</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="track.html">1. 記録</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">2. 取得</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocess.html">3. 前処理</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">4. 基礎分析</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">データの可視化</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../02/amounts.html">5. 量を見る</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02/dists.html">6. 分布を見る</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02/props.html">7. 内訳を見る</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02/assocs.html">8. 関係を見る</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">あとがき</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../03/outro.html">9. おわりに</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/kakeami/road-to-vizbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/kakeami/road-to-vizbook/issues/new?title=Issue%20on%20page%20%2F01/eda.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/01/eda.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>基礎分析</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">4.1. 環境構築</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-writing">4.2. 執筆時間の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">4.2.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#date">4.2.2. <code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#secondshours">4.2.3. <code class="docutils literal notranslate"><span class="pre">seconds</span></code>、<code class="docutils literal notranslate"><span class="pre">hours</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#category">4.2.4. <code class="docutils literal notranslate"><span class="pre">category</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#task">4.2.5. <code class="docutils literal notranslate"><span class="pre">task</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-sleeping">4.3. 睡眠時間の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">4.3.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4.3.2. <code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-draft">4.4. 草稿の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">4.4.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vol">4.4.2. <code class="docutils literal notranslate"><span class="pre">vol</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec">4.4.3. <code class="docutils literal notranslate"><span class="pre">sec</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chars">4.4.4. <code class="docutils literal notranslate"><span class="pre">chars</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lines">4.4.5. <code class="docutils literal notranslate"><span class="pre">lines</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commas">4.4.6. <code class="docutils literal notranslate"><span class="pre">commas</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#periods">4.4.7. <code class="docutils literal notranslate"><span class="pre">periods</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">4.4.8. <code class="docutils literal notranslate"><span class="pre">size</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fns">4.4.9. <code class="docutils literal notranslate"><span class="pre">fns</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#images">4.4.10. <code class="docutils literal notranslate"><span class="pre">images</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codes">4.4.11. <code class="docutils literal notranslate"><span class="pre">codes</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bolds">4.4.12. <code class="docutils literal notranslate"><span class="pre">bolds</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">4.5. 基礎分析のまとめ</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1><span class="section-number">4. </span>基礎分析<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p><img alt="" src="../_images/ov4.png" /></p>
<div class="tip admonition">
<p class="admonition-title">Summary</p>
<ul class="simple">
<li><p><strong>このページは長すぎるうえ、以降の可視化内容と重複があるため読み飛ばしてOKです</strong></p></li>
<li><p>執筆時間は、2023年末から2024年前半、2025年12月から2026年1月にとくに増加した</p></li>
<li><p>草稿は合計約80万文字。1行あたり約25字、1文あたり約100文字だった</p></li>
</ul>
</div>
<p>以下のデータに対して基礎分析を行います：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">writing_time.csv</span></code>：本書執筆に関する作業時間を格納したファイル</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sleeping_time.csv</span></code>：本書執筆中の睡眠時間を格納したファイル</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draft_stats.csv</span></code>：本書の草稿に関する集計情報を格納したファイル</p></li>
</ul>
<p>基礎分析とは、データの全体像を把握し、データの特性や傾向を理解するための分析です。
具体的には、欠損値や重複データの確認、各変数の分布の把握、変数間の関係性の探索などを行います。</p>
<p>本ブログでは、本書に倣って以下の方針を採用しています：</p>
<ul class="simple">
<li><p>基礎分析に「可視化」は含まない</p></li>
<li><p>基礎分析は「全体像の把握」と「各列の深堀り」から成る</p></li>
</ul>
<p>その根拠等は本書を参照ください。</p>
<section id="id2">
<h2><span class="section-number">4.1. </span>環境構築<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>前処理を行うために必要なライブラリをインポートし、変数を定義します。 また、データの入出力先となるディレクトリも作成しておきます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ファイルパスを扱うためのPathlibモジュールをインポート</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># データ処理・分析ライブラリのPandasをインポート</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 基礎分析の対象となるディレクトリのパス</span>
<span class="n">DIR_IN</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../../data/tmp&quot;</span><span class="p">)</span>

<span class="c1"># 基礎分析対象となるファイル名</span>
<span class="n">FN_WRITING</span> <span class="o">=</span> <span class="s2">&quot;writing_time.csv&quot;</span>
<span class="n">FN_SLEEPING</span> <span class="o">=</span> <span class="s2">&quot;sleeping_time.csv&quot;</span>
<span class="n">FN_DRAFT</span> <span class="o">=</span> <span class="s2">&quot;draft_stats.csv&quot;</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="eda-writing">
<span id="id3"></span><h2><span class="section-number">4.2. </span>執筆時間の基礎分析<a class="headerlink" href="#eda-writing" title="Link to this heading">#</a></h2>
<p>本書の執筆時間を格納した <code class="docutils literal notranslate"><span class="pre">writing_time.csv</span></code>の基礎分析を行います。
<code class="docutils literal notranslate"><span class="pre">writing_time.csv</span></code>は以下の列を持つCSVファイルです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code>：執筆作業を実施した日付</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seconds</span></code>：執筆作業の継続秒数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">category</span></code>：執筆作業の属するカテゴリー</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">task</span></code>：執筆作業のタスク名</p></li>
</ul>
<section id="id4">
<h3><span class="section-number">4.2.1. </span>全体像の把握<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>全体像を眺めてみましょう。
まずはファイルを読み込み、<code class="docutils literal notranslate"><span class="pre">seconds</span></code>列から<code class="docutils literal notranslate"><span class="pre">hours</span></code>列を作成します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pd.read_csv()関数を用いて、CSVファイルをDataFrameとして読み込む</span>
<span class="n">df_writing</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">DIR_IN</span> <span class="o">/</span> <span class="n">FN_WRITING</span><span class="p">)</span>

<span class="c1"># 新しい列&quot;hours&quot;を作成し、&quot;seconds&quot;列の値を3600で割ることで時間に変換</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;seconds&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">3600</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">head</span></code>メソッドで先頭5行を見てみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># headメソッドで概要を把握</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>seconds</th>
      <th>category</th>
      <th>task</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2021-12-08</td>
      <td>1072</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>0.297778</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2021-12-08</td>
      <td>203</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>0.056389</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021-12-08</td>
      <td>1094</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>0.303889</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021-12-08</td>
      <td>862</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>0.239444</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2021-12-08</td>
      <td>1582</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>0.439444</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">hours</span></code>を追加することで、執筆作業の継続時間を直感的に理解しやすくなりました。</p>
<p><code class="docutils literal notranslate"><span class="pre">shape</span></code>メソッドでデータフレームの形状を確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># shapeメソッドでデータフレームの形状を確認</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2476, 5)
</pre></div>
</div>
</div>
</details>
</div>
<p>合計作業時間を算出してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 合計作業時間を算出</span>
<span class="n">total_seconds</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;seconds&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">hours</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_seconds</span> <span class="o">//</span> <span class="mi">3600</span><span class="p">)</span>
<span class="n">minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">total_seconds</span> <span class="o">%</span> <span class="mi">3600</span><span class="p">)</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span>
<span class="n">secs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;合計作業時間: </span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">時間</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">分</span><span class="si">{</span><span class="n">secs</span><span class="si">}</span><span class="s2">秒&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>合計作業時間: 1161時間50分38秒
</pre></div>
</div>
</div>
</details>
</div>
<p>本書の執筆には膨大な時間がかかったことがわかります。</p>
<p><code class="docutils literal notranslate"><span class="pre">describe</span></code>メソッドで各列の統計情報を算出してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># describeメソッドで各列の統計情報を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>seconds</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2476.000000</td>
      <td>2476.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1689.272213</td>
      <td>0.469242</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1543.742944</td>
      <td>0.428817</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>494.750000</td>
      <td>0.137431</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1278.000000</td>
      <td>0.355000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2489.250000</td>
      <td>0.691458</td>
    </tr>
    <tr>
      <th>max</th>
      <td>11589.000000</td>
      <td>3.219167</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>一回の作業の継続時間の平均や最大値等、興味深い情報が得られました。</p>
<p>念の為、<code class="docutils literal notranslate"><span class="pre">isna</span></code>メソッドを用いて欠損率を計算します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># isnaで欠損かいなかを取得し、meanで平均を取る</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date        0.0
seconds     0.0
category    0.0
task        0.0
hours       0.0
dtype: float64
</pre></div>
</div>
</div>
</details>
</div>
<p>全ての列において欠損がないように見えます。</p>
<p>最後に、ユニークな値の数を<code class="docutils literal notranslate"><span class="pre">nunique</span></code>メソッドで確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nuniqueでユニークな値の数を確認</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date         769
seconds     1761
category       5
task          29
hours       1761
dtype: int64
</pre></div>
</div>
</div>
</details>
</div>
<p><a class="reference internal" href="preprocess.html#task-formatting"><span class="std std-ref">前処理</span></a>で表現を揃えたため、<code class="docutils literal notranslate"><span class="pre">category</span></code>や<code class="docutils literal notranslate"><span class="pre">task</span></code>のユニーク数は少ないように見えます。</p>
</section>
<section id="date">
<h3><span class="section-number">4.2.2. </span><code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り<a class="headerlink" href="#date" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">date</span></code>（執筆作業の実施日）に関して深堀りしましょう。</p>
<p><code class="docutils literal notranslate"><span class="pre">date</span></code>列を日付型に変換し、年、月、日、曜日情報をそれぞれ抽出した列を作成します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pd.to_datetime()関数を用いて、&quot;date&quot;列を日付型に変換</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="c1"># 年、月、日、曜日情報をdate列から取得</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;weekday&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">weekday</span>

<span class="c1"># weekdayと曜日を対応付ける辞書</span>
<span class="n">weekday2yobi</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;月&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;火&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;水&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;木&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;金&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;土&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;日&quot;</span><span class="p">}</span>
<span class="c1"># weekdayを元に、weekday2yobiを用いてyobi列に曜日表現を格納</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;yobi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;weekday&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">weekday2yobi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<p>対象期間期間を確認しておきましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># date列の最小値と最大値を取得</span>
<span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(Timestamp(&#39;2021-12-08 00:00:00&#39;), Timestamp(&#39;2026-01-21 00:00:00&#39;))
</pre></div>
</div>
</div>
</details>
</div>
<p>では、年ごとの傾向はどうだったのでしょうか？
<code class="docutils literal notranslate"><span class="pre">groupby</span></code>メソッドを用いて以下を集計してみます：</p>
<ul class="simple">
<li><p>合計作業回数</p></li>
<li><p>合計作業時間</p></li>
<li><p>1回の作業あたりの平均時間</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># year列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021</th>
      <td>34</td>
      <td>12.063889</td>
      <td>0.354820</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>516</td>
      <td>198.702500</td>
      <td>0.385082</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>510</td>
      <td>235.905556</td>
      <td>0.462560</td>
    </tr>
    <tr>
      <th>2024</th>
      <td>965</td>
      <td>547.573056</td>
      <td>0.567433</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>323</td>
      <td>125.680556</td>
      <td>0.389104</td>
    </tr>
    <tr>
      <th>2026</th>
      <td>128</td>
      <td>41.918333</td>
      <td>0.327487</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>全ての観点において、2024年まで単調に増加し、2025年以降は減少しているようです。
これは私の実感とも一致しています。</p>
<p>では、月ごとにはどのような結果が得られるでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># month列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>month</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>412</td>
      <td>188.638611</td>
      <td>0.457861</td>
    </tr>
    <tr>
      <th>2</th>
      <td>159</td>
      <td>90.788056</td>
      <td>0.570994</td>
    </tr>
    <tr>
      <th>3</th>
      <td>196</td>
      <td>107.384722</td>
      <td>0.547881</td>
    </tr>
    <tr>
      <th>4</th>
      <td>209</td>
      <td>97.513611</td>
      <td>0.466572</td>
    </tr>
    <tr>
      <th>5</th>
      <td>232</td>
      <td>132.631667</td>
      <td>0.571688</td>
    </tr>
    <tr>
      <th>6</th>
      <td>168</td>
      <td>71.971944</td>
      <td>0.428404</td>
    </tr>
    <tr>
      <th>7</th>
      <td>155</td>
      <td>61.347500</td>
      <td>0.395790</td>
    </tr>
    <tr>
      <th>8</th>
      <td>224</td>
      <td>104.600000</td>
      <td>0.466964</td>
    </tr>
    <tr>
      <th>9</th>
      <td>147</td>
      <td>54.951111</td>
      <td>0.373817</td>
    </tr>
    <tr>
      <th>10</th>
      <td>77</td>
      <td>32.791389</td>
      <td>0.425862</td>
    </tr>
    <tr>
      <th>11</th>
      <td>152</td>
      <td>68.324722</td>
      <td>0.449505</td>
    </tr>
    <tr>
      <th>12</th>
      <td>345</td>
      <td>150.900556</td>
      <td>0.437393</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>これだけでは解釈しづらいため、ソートしてみます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># month列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
<span class="c1"># sum列で降順にソートして表示</span>
<span class="n">df_tmp</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>month</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>412</td>
      <td>188.638611</td>
      <td>0.457861</td>
    </tr>
    <tr>
      <th>12</th>
      <td>345</td>
      <td>150.900556</td>
      <td>0.437393</td>
    </tr>
    <tr>
      <th>5</th>
      <td>232</td>
      <td>132.631667</td>
      <td>0.571688</td>
    </tr>
    <tr>
      <th>3</th>
      <td>196</td>
      <td>107.384722</td>
      <td>0.547881</td>
    </tr>
    <tr>
      <th>8</th>
      <td>224</td>
      <td>104.600000</td>
      <td>0.466964</td>
    </tr>
    <tr>
      <th>4</th>
      <td>209</td>
      <td>97.513611</td>
      <td>0.466572</td>
    </tr>
    <tr>
      <th>2</th>
      <td>159</td>
      <td>90.788056</td>
      <td>0.570994</td>
    </tr>
    <tr>
      <th>6</th>
      <td>168</td>
      <td>71.971944</td>
      <td>0.428404</td>
    </tr>
    <tr>
      <th>11</th>
      <td>152</td>
      <td>68.324722</td>
      <td>0.449505</td>
    </tr>
    <tr>
      <th>7</th>
      <td>155</td>
      <td>61.347500</td>
      <td>0.395790</td>
    </tr>
    <tr>
      <th>9</th>
      <td>147</td>
      <td>54.951111</td>
      <td>0.373817</td>
    </tr>
    <tr>
      <th>10</th>
      <td>77</td>
      <td>32.791389</td>
      <td>0.425862</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>合計作業時間という観点では、長期休暇を取りやすい月か、本業に比較的余裕のできる3-5月が上位に来ています<a class="footnote-reference brackets" href="#standardize" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>。
納得感のある結果です。</p>
<p>次は曜日ごとに集計してみましょう。解釈しやすいように、<code class="docutils literal notranslate"><span class="pre">sum</span></code>列に関して降順に並び替えます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># yobi列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_tmp</span> <span class="o">=</span> <span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yobi&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
<span class="c1"># sum列で降順でソートして表示</span>
<span class="n">df_tmp</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>yobi</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>日</th>
      <td>506</td>
      <td>270.003611</td>
      <td>0.533604</td>
    </tr>
    <tr>
      <th>土</th>
      <td>471</td>
      <td>227.573889</td>
      <td>0.483172</td>
    </tr>
    <tr>
      <th>金</th>
      <td>370</td>
      <td>178.730000</td>
      <td>0.483054</td>
    </tr>
    <tr>
      <th>月</th>
      <td>296</td>
      <td>133.010000</td>
      <td>0.449358</td>
    </tr>
    <tr>
      <th>水</th>
      <td>308</td>
      <td>131.118333</td>
      <td>0.425709</td>
    </tr>
    <tr>
      <th>火</th>
      <td>264</td>
      <td>117.793611</td>
      <td>0.446188</td>
    </tr>
    <tr>
      <th>木</th>
      <td>261</td>
      <td>103.614444</td>
      <td>0.396990</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>想定通り、土日の合計作業時間が長ようです。
また、平日の序列に関しては、私の繁忙状況やライフスタイルを反映しているように見えます。
例えば金曜は</p>
<ul class="simple">
<li><p>比較的打合せが少ないため残業が少ない傾向がある</p></li>
<li><p>翌日が休みのため、夜に無理をしやすい</p></li>
</ul>
<p>という理由から、平日の中でトップに位置していると想像されます。</p>
<p>最後に、<code class="docutils literal notranslate"><span class="pre">year</span></code>列と<code class="docutils literal notranslate"><span class="pre">month</span></code>列の組み合わせに対して同様の集計を行います。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># year列・month列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">])[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>year</th>
      <th>month</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021</th>
      <th>12</th>
      <td>34</td>
      <td>12.063889</td>
      <td>0.354820</td>
    </tr>
    <tr>
      <th rowspan="12" valign="top">2022</th>
      <th>1</th>
      <td>114</td>
      <td>55.302778</td>
      <td>0.485112</td>
    </tr>
    <tr>
      <th>2</th>
      <td>14</td>
      <td>7.565278</td>
      <td>0.540377</td>
    </tr>
    <tr>
      <th>3</th>
      <td>68</td>
      <td>20.331111</td>
      <td>0.298987</td>
    </tr>
    <tr>
      <th>4</th>
      <td>67</td>
      <td>22.806111</td>
      <td>0.340390</td>
    </tr>
    <tr>
      <th>5</th>
      <td>79</td>
      <td>30.977778</td>
      <td>0.392124</td>
    </tr>
    <tr>
      <th>6</th>
      <td>31</td>
      <td>12.052500</td>
      <td>0.388790</td>
    </tr>
    <tr>
      <th>7</th>
      <td>29</td>
      <td>11.909444</td>
      <td>0.410670</td>
    </tr>
    <tr>
      <th>8</th>
      <td>29</td>
      <td>11.271667</td>
      <td>0.388678</td>
    </tr>
    <tr>
      <th>9</th>
      <td>3</td>
      <td>0.786111</td>
      <td>0.262037</td>
    </tr>
    <tr>
      <th>10</th>
      <td>7</td>
      <td>2.585556</td>
      <td>0.369365</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2</td>
      <td>0.445000</td>
      <td>0.222500</td>
    </tr>
    <tr>
      <th>12</th>
      <td>73</td>
      <td>22.669167</td>
      <td>0.310537</td>
    </tr>
    <tr>
      <th rowspan="12" valign="top">2023</th>
      <th>1</th>
      <td>47</td>
      <td>15.967222</td>
      <td>0.339728</td>
    </tr>
    <tr>
      <th>2</th>
      <td>39</td>
      <td>13.197500</td>
      <td>0.338397</td>
    </tr>
    <tr>
      <th>3</th>
      <td>13</td>
      <td>7.330833</td>
      <td>0.563910</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>1.689167</td>
      <td>0.422292</td>
    </tr>
    <tr>
      <th>5</th>
      <td>45</td>
      <td>26.821667</td>
      <td>0.596037</td>
    </tr>
    <tr>
      <th>6</th>
      <td>42</td>
      <td>18.097222</td>
      <td>0.430886</td>
    </tr>
    <tr>
      <th>7</th>
      <td>42</td>
      <td>18.298611</td>
      <td>0.435681</td>
    </tr>
    <tr>
      <th>8</th>
      <td>48</td>
      <td>24.848611</td>
      <td>0.517679</td>
    </tr>
    <tr>
      <th>9</th>
      <td>51</td>
      <td>21.132778</td>
      <td>0.414368</td>
    </tr>
    <tr>
      <th>10</th>
      <td>20</td>
      <td>9.432222</td>
      <td>0.471611</td>
    </tr>
    <tr>
      <th>11</th>
      <td>59</td>
      <td>27.949444</td>
      <td>0.473719</td>
    </tr>
    <tr>
      <th>12</th>
      <td>100</td>
      <td>51.140278</td>
      <td>0.511403</td>
    </tr>
    <tr>
      <th rowspan="12" valign="top">2024</th>
      <th>1</th>
      <td>115</td>
      <td>73.413889</td>
      <td>0.638382</td>
    </tr>
    <tr>
      <th>2</th>
      <td>103</td>
      <td>68.862500</td>
      <td>0.668568</td>
    </tr>
    <tr>
      <th>3</th>
      <td>113</td>
      <td>79.102222</td>
      <td>0.700020</td>
    </tr>
    <tr>
      <th>4</th>
      <td>138</td>
      <td>73.018333</td>
      <td>0.529118</td>
    </tr>
    <tr>
      <th>5</th>
      <td>108</td>
      <td>74.832222</td>
      <td>0.692891</td>
    </tr>
    <tr>
      <th>6</th>
      <td>60</td>
      <td>28.550833</td>
      <td>0.475847</td>
    </tr>
    <tr>
      <th>7</th>
      <td>84</td>
      <td>31.139444</td>
      <td>0.370708</td>
    </tr>
    <tr>
      <th>8</th>
      <td>102</td>
      <td>54.281111</td>
      <td>0.532168</td>
    </tr>
    <tr>
      <th>9</th>
      <td>52</td>
      <td>23.566667</td>
      <td>0.453205</td>
    </tr>
    <tr>
      <th>10</th>
      <td>47</td>
      <td>20.576111</td>
      <td>0.437790</td>
    </tr>
    <tr>
      <th>11</th>
      <td>33</td>
      <td>14.963333</td>
      <td>0.453434</td>
    </tr>
    <tr>
      <th>12</th>
      <td>10</td>
      <td>5.266389</td>
      <td>0.526639</td>
    </tr>
    <tr>
      <th rowspan="9" valign="top">2025</th>
      <th>1</th>
      <td>8</td>
      <td>2.036389</td>
      <td>0.254549</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1.162778</td>
      <td>0.387593</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>0.620556</td>
      <td>0.310278</td>
    </tr>
    <tr>
      <th>6</th>
      <td>35</td>
      <td>13.271389</td>
      <td>0.379183</td>
    </tr>
    <tr>
      <th>8</th>
      <td>45</td>
      <td>14.198611</td>
      <td>0.315525</td>
    </tr>
    <tr>
      <th>9</th>
      <td>41</td>
      <td>9.465556</td>
      <td>0.230867</td>
    </tr>
    <tr>
      <th>10</th>
      <td>3</td>
      <td>0.197500</td>
      <td>0.065833</td>
    </tr>
    <tr>
      <th>11</th>
      <td>58</td>
      <td>24.966944</td>
      <td>0.430465</td>
    </tr>
    <tr>
      <th>12</th>
      <td>128</td>
      <td>59.760833</td>
      <td>0.466882</td>
    </tr>
    <tr>
      <th>2026</th>
      <th>1</th>
      <td>128</td>
      <td>41.918333</td>
      <td>0.327487</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>2023年末から2024年前半にかけて、集中的に作業時間が増加しています。
2025年末から2026年1月の作業量の増加は、出版直前の追い込み（ゲラ確認、サポートサイト構築）が原因です。</p>
</section>
<section id="secondshours">
<h3><span class="section-number">4.2.3. </span><code class="docutils literal notranslate"><span class="pre">seconds</span></code>、<code class="docutils literal notranslate"><span class="pre">hours</span></code>列の深堀り<a class="headerlink" href="#secondshours" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">seconds</span></code>（作業時間[秒]）と<code class="docutils literal notranslate"><span class="pre">hours</span></code>（作業時間[時間]）に関して深堀りしてみましょう。</p>
<p><code class="docutils literal notranslate"><span class="pre">describe</span></code>メソッドを用いて統計情報を取得します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># seconds列・hours列の統計情報を取得</span>
<span class="n">df_writing</span><span class="p">[[</span><span class="s2">&quot;seconds&quot;</span><span class="p">,</span> <span class="s2">&quot;hours&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>seconds</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2476.000000</td>
      <td>2476.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1689.272213</td>
      <td>0.469242</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1543.742944</td>
      <td>0.428817</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>494.750000</td>
      <td>0.137431</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1278.000000</td>
      <td>0.355000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2489.250000</td>
      <td>0.691458</td>
    </tr>
    <tr>
      <th>max</th>
      <td>11589.000000</td>
      <td>3.219167</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>3時間以上のレコードが気になります。</p>
<p>というのも、私は作業の切れ目をできる限り正確に記録するようにしています。
つまり、上記のレコードが意味するのは、 <strong>3時間以上トイレ休憩すら取らず、作業に集中したケースがある</strong> ということです。
私の普段の集中力の無さを鑑みると、ただごとではありません。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># hours列を基準に降順ソートし、トップ1のみ表示</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;hours&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>seconds</th>
      <th>category</th>
      <th>task</th>
      <th>hours</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>weekday</th>
      <th>yobi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022-02-13</td>
      <td>11589</td>
      <td>プロトタイピング</td>
      <td>プロトタイピング</td>
      <td>3.219167</td>
      <td>2022</td>
      <td>2</td>
      <td>13</td>
      <td>6</td>
      <td>日</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>2022年2月13日に連続3時間超の作業が記録されています。
こちらは、本書の前身である
「<a class="reference external" href="https://kakeami.github.io/viz-madb/index.html" rel="noreferer noopener" target="_blank">マンガと学ぶデータビジュアライゼーション</a>」を第2回メディア芸術データベース活用コンテストにて発表した際の記録であると想像されます。</p>
</section>
<section id="category">
<h3><span class="section-number">4.2.4. </span><code class="docutils literal notranslate"><span class="pre">category</span></code>列の深堀り<a class="headerlink" href="#category" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">category</span></code>（作業のカテゴリー）に関して深堀りしてみましょう。</p>
<p>まず、カテゴリー別の作業時間に関して、行数、合算値、そして平均値を算出します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># category列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>プロトタイピング</th>
      <td>162</td>
      <td>74.931944</td>
      <td>0.462543</td>
    </tr>
    <tr>
      <th>企画立案</th>
      <td>56</td>
      <td>17.686667</td>
      <td>0.315833</td>
    </tr>
    <tr>
      <th>原稿執筆</th>
      <td>1811</td>
      <td>901.728056</td>
      <td>0.497917</td>
    </tr>
    <tr>
      <th>校正校閲</th>
      <td>277</td>
      <td>108.289444</td>
      <td>0.390937</td>
    </tr>
    <tr>
      <th>販促</th>
      <td>170</td>
      <td>59.207778</td>
      <td>0.348281</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>想定通り、原稿執筆が支配的のようです。</p>
<p>では、作業年との組み合わせて集計すると、どのような結果になるでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># category列・year列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">])[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>category</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">プロトタイピング</th>
      <th>2021</th>
      <td>34</td>
      <td>12.063889</td>
      <td>0.354820</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>128</td>
      <td>62.868056</td>
      <td>0.491157</td>
    </tr>
    <tr>
      <th>企画立案</th>
      <th>2022</th>
      <td>56</td>
      <td>17.686667</td>
      <td>0.315833</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">原稿執筆</th>
      <th>2022</th>
      <td>332</td>
      <td>118.147778</td>
      <td>0.355867</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>510</td>
      <td>235.905556</td>
      <td>0.462560</td>
    </tr>
    <tr>
      <th>2024</th>
      <td>955</td>
      <td>542.306667</td>
      <td>0.567860</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>14</td>
      <td>5.368056</td>
      <td>0.383433</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">校正校閲</th>
      <th>2024</th>
      <td>10</td>
      <td>5.266389</td>
      <td>0.526639</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>267</td>
      <td>103.023056</td>
      <td>0.385854</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">販促</th>
      <th>2025</th>
      <td>42</td>
      <td>17.289444</td>
      <td>0.411653</td>
    </tr>
    <tr>
      <th>2026</th>
      <td>128</td>
      <td>41.918333</td>
      <td>0.327487</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>作業フェーズの移り変わりが見られて、非常に面白いですね。</p>
</section>
<section id="task">
<h3><span class="section-number">4.2.5. </span><code class="docutils literal notranslate"><span class="pre">task</span></code>列の深堀り<a class="headerlink" href="#task" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">task</span></code>（執筆作業のタスク名）に関して深堀りしてみましょう。</p>
<p>まず、タスク別の作業時間に関して、行数、合算値、そして平均値を算出します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># task列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="c1"># 見やすいように、合計作業時間に関して降順ソート</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;task&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>task</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>上巻3-4章執筆</th>
      <td>248</td>
      <td>141.817500</td>
      <td>0.571845</td>
    </tr>
    <tr>
      <th>上巻1-2章執筆</th>
      <td>201</td>
      <td>114.593056</td>
      <td>0.570115</td>
    </tr>
    <tr>
      <th>下巻5-6章執筆</th>
      <td>194</td>
      <td>105.576944</td>
      <td>0.544211</td>
    </tr>
    <tr>
      <th>データ準備</th>
      <td>190</td>
      <td>87.096111</td>
      <td>0.458401</td>
    </tr>
    <tr>
      <th>プロトタイピング</th>
      <td>162</td>
      <td>74.931944</td>
      <td>0.462543</td>
    </tr>
    <tr>
      <th>下巻4章執筆</th>
      <td>124</td>
      <td>73.862222</td>
      <td>0.595663</td>
    </tr>
    <tr>
      <th>下巻3章執筆</th>
      <td>158</td>
      <td>70.563611</td>
      <td>0.446605</td>
    </tr>
    <tr>
      <th>PDF確認</th>
      <td>123</td>
      <td>58.990278</td>
      <td>0.479596</td>
    </tr>
    <tr>
      <th>下巻2章執筆</th>
      <td>123</td>
      <td>58.593333</td>
      <td>0.476369</td>
    </tr>
    <tr>
      <th>その他執筆</th>
      <td>164</td>
      <td>51.737500</td>
      <td>0.315473</td>
    </tr>
    <tr>
      <th>上巻5章執筆</th>
      <td>82</td>
      <td>48.134722</td>
      <td>0.587009</td>
    </tr>
    <tr>
      <th>練習問題</th>
      <td>121</td>
      <td>40.470000</td>
      <td>0.334463</td>
    </tr>
    <tr>
      <th>上巻6章執筆</th>
      <td>76</td>
      <td>40.392778</td>
      <td>0.531484</td>
    </tr>
    <tr>
      <th>下巻1章執筆</th>
      <td>86</td>
      <td>36.788611</td>
      <td>0.427775</td>
    </tr>
    <tr>
      <th>上巻7章執筆</th>
      <td>79</td>
      <td>35.323056</td>
      <td>0.447127</td>
    </tr>
    <tr>
      <th>文献調査</th>
      <td>79</td>
      <td>27.503889</td>
      <td>0.348150</td>
    </tr>
    <tr>
      <th>上巻0章執筆</th>
      <td>45</td>
      <td>15.011667</td>
      <td>0.333593</td>
    </tr>
    <tr>
      <th>その他校閲</th>
      <td>50</td>
      <td>14.901944</td>
      <td>0.298039</td>
    </tr>
    <tr>
      <th>図の修正</th>
      <td>45</td>
      <td>12.807222</td>
      <td>0.284605</td>
    </tr>
    <tr>
      <th>打合せ</th>
      <td>9</td>
      <td>10.700000</td>
      <td>1.188889</td>
    </tr>
    <tr>
      <th>著作権対応</th>
      <td>28</td>
      <td>10.154444</td>
      <td>0.362659</td>
    </tr>
    <tr>
      <th>サポートサイト公開</th>
      <td>29</td>
      <td>7.871667</td>
      <td>0.271437</td>
    </tr>
    <tr>
      <th>サポートサイト修正</th>
      <td>11</td>
      <td>7.157222</td>
      <td>0.650657</td>
    </tr>
    <tr>
      <th>その他販促</th>
      <td>10</td>
      <td>6.035000</td>
      <td>0.603500</td>
    </tr>
    <tr>
      <th>扉図作成</th>
      <td>20</td>
      <td>4.278333</td>
      <td>0.213917</td>
    </tr>
    <tr>
      <th>SNS</th>
      <td>9</td>
      <td>3.914444</td>
      <td>0.434938</td>
    </tr>
    <tr>
      <th>下巻Appendix執筆</th>
      <td>4</td>
      <td>1.703056</td>
      <td>0.425764</td>
    </tr>
    <tr>
      <th>下巻0章執筆</th>
      <td>3</td>
      <td>0.524167</td>
      <td>0.174722</td>
    </tr>
    <tr>
      <th>その他準備</th>
      <td>3</td>
      <td>0.409167</td>
      <td>0.136389</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>合計作業時間という観点では、上巻3-4章が最も長いようです。
上巻3-4章は、マンガデータを用いたハンズオンを扱う章です。</p>
<p>念の為、<code class="docutils literal notranslate"><span class="pre">task</span></code>ごとに紐づけられている<code class="docutils literal notranslate"><span class="pre">category</span></code>のユニーク数を集計しておきましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># task列を基準に、対応付けられているcategory列のユニーク数を集計</span>
<span class="n">df_writing</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;task&quot;</span><span class="p">)[</span><span class="s2">&quot;category&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>task</th>
      <th>category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PDF確認</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>SNS</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>その他執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>その他校閲</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>その他準備</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>その他販促</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>サポートサイト修正</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>サポートサイト公開</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>データ準備</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>プロトタイピング</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>上巻0章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>上巻1-2章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>12</th>
      <td>上巻3-4章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>上巻5章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>14</th>
      <td>上巻6章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>15</th>
      <td>上巻7章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>下巻0章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>17</th>
      <td>下巻1章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>18</th>
      <td>下巻2章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>19</th>
      <td>下巻3章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20</th>
      <td>下巻4章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>21</th>
      <td>下巻5-6章執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>22</th>
      <td>下巻Appendix執筆</td>
      <td>1</td>
    </tr>
    <tr>
      <th>23</th>
      <td>図の修正</td>
      <td>1</td>
    </tr>
    <tr>
      <th>24</th>
      <td>扉図作成</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25</th>
      <td>打合せ</td>
      <td>3</td>
    </tr>
    <tr>
      <th>26</th>
      <td>文献調査</td>
      <td>2</td>
    </tr>
    <tr>
      <th>27</th>
      <td>練習問題</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28</th>
      <td>著作権対応</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>「打合せ」と「文献調査」に関しては複数の<code class="docutils literal notranslate"><span class="pre">category</span></code>に対応付けられているようです。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># タスク名が「打合せ」あるいは「分顕調査」に該当するレコードを抽出</span>
<span class="c1"># category列・task列でhours列の合計を集計して表示</span>
<span class="n">df_writing</span><span class="p">[</span><span class="n">df_writing</span><span class="p">[</span><span class="s2">&quot;task&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;打合せ&quot;</span><span class="p">,</span> <span class="s2">&quot;文献調査&quot;</span><span class="p">])]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;task&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])[</span>
    <span class="s2">&quot;hours&quot;</span>
<span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>task</th>
      <th>category</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>打合せ</td>
      <td>企画立案</td>
      <td>1.759167</td>
    </tr>
    <tr>
      <th>1</th>
      <td>打合せ</td>
      <td>原稿執筆</td>
      <td>8.024167</td>
    </tr>
    <tr>
      <th>2</th>
      <td>打合せ</td>
      <td>販促</td>
      <td>0.916667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>文献調査</td>
      <td>企画立案</td>
      <td>15.518333</td>
    </tr>
    <tr>
      <th>4</th>
      <td>文献調査</td>
      <td>原稿執筆</td>
      <td>11.985556</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>「打合せ」は「企画立案」「原稿執筆」「販促」フェーズにおいて、「文献調査」は「企画立案」「原稿執筆」フェーズにおいて発生したようです。</p>
</section>
</section>
<section id="eda-sleeping">
<span id="id6"></span><h2><span class="section-number">4.3. </span>睡眠時間の基礎分析<a class="headerlink" href="#eda-sleeping" title="Link to this heading">#</a></h2>
<p>本書執筆期間中の睡眠時間を格納した <code class="docutils literal notranslate"><span class="pre">sleeping_time.csv</span></code>の基礎分析を行います。
<code class="docutils literal notranslate"><span class="pre">sleeping_time.csv</span></code>は以下の列を持つCSVファイルです：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code>：日付</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">category</span></code>：カテゴリー名（<code class="docutils literal notranslate"><span class="pre">睡眠</span></code>のみ）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">task</span></code>：タスク名（<code class="docutils literal notranslate"><span class="pre">睡眠</span></code>のみ）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seconds</span></code>：継続秒数</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">writing_time.csv</span></code>と異なり、一日ごとに合計睡眠時間が記録されている点に注意しましょう。</p>
<section id="id7">
<h3><span class="section-number">4.3.1. </span>全体像の把握<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>全体像を眺めてみましょう。
まずはファイルを読み込み、<code class="docutils literal notranslate"><span class="pre">seconds</span></code>列から<code class="docutils literal notranslate"><span class="pre">hours</span></code>列を作成します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pd.read_csv()関数を用いて、CSVファイルをDataFrameとして読み込む</span>
<span class="n">df_sleeping</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">DIR_IN</span> <span class="o">/</span> <span class="n">FN_SLEEPING</span><span class="p">)</span>

<span class="c1"># 新しい列&quot;hours&quot;を作成し、&quot;seconds&quot;列の値を3600で割ることで時間に変換</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;seconds&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">3600</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">head</span></code>メソッドで先頭5行を見てみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># headメソッドで先頭5行を確認</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>category</th>
      <th>task</th>
      <th>seconds</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-02-23</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>24241.0</td>
      <td>6.733611</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-02-24</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>21131.0</td>
      <td>5.869722</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-02-25</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>17259.0</td>
      <td>4.794167</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-02-26</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>21990.0</td>
      <td>6.108333</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-02-27</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>22461.0</td>
      <td>6.239167</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>2019年2月23日から睡眠時間が記録されているようです。
次は<code class="docutils literal notranslate"><span class="pre">shape</span></code>メソッドで形状を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># shapeメソッドでデータフレームの形状を確認</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2526, 5)
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">describe</span></code>メソッドで各列の統計情報を算出します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># describeメソッドで各列の統計情報を算出</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>seconds</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2526.000000</td>
      <td>2526.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>23775.055028</td>
      <td>6.604182</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3594.488024</td>
      <td>0.998469</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>22118.250000</td>
      <td>6.143958</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>23568.500000</td>
      <td>6.546806</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>25269.750000</td>
      <td>7.019375</td>
    </tr>
    <tr>
      <th>max</th>
      <td>52474.000000</td>
      <td>14.576111</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>一日の睡眠時間の平均や最小・最大値に関する情報が得られました。</p>
<p><code class="docutils literal notranslate"><span class="pre">isna</span></code>メソッドを用いて欠損率を計算します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># isnaで欠損かいなかを取得し、meanで平均を取る</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date        0.0
category    0.0
task        0.0
seconds     0.0
hours       0.0
dtype: float64
</pre></div>
</div>
</div>
</details>
</div>
<p>全ての列において欠損がないように見えます。</p>
<p>では、睡眠時間が記録されなかった日は存在するのでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 睡眠時間が記録されていない日付を抽出</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;seconds&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>category</th>
      <th>task</th>
      <th>seconds</th>
      <th>hours</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>114</th>
      <td>2019-06-17</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>203</th>
      <td>2019-09-14</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>210</th>
      <td>2019-09-21</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>514</th>
      <td>2020-07-21</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1364</th>
      <td>2022-11-18</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1446</th>
      <td>2023-02-08</td>
      <td>睡眠</td>
      <td>睡眠</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>詳細は覚えておりませんが、とても忙しかったのかもしれません…。</p>
<p>最後に、ユニークな値の数を <code class="docutils literal notranslate"><span class="pre">nunique</span></code> メソッドで確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nuniqueメソッドで各列のユニークな値の数を集計</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>date        2526
category       1
task           1
seconds     2195
hours       2195
dtype: int64
</pre></div>
</div>
</div>
</details>
</div>
<p>想定通り、<code class="docutils literal notranslate"><span class="pre">category</span></code>および<code class="docutils literal notranslate"><span class="pre">task</span></code>は一つ（<code class="docutils literal notranslate"><span class="pre">睡眠</span></code>）のみであることが確認できました。</p>
</section>
<section id="id8">
<h3><span class="section-number">4.3.2. </span><code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">date</span></code>（睡眠時間を記録した日付）に関して深堀りしてみましょう。</p>
<p><code class="docutils literal notranslate"><span class="pre">date</span></code>列を日付型に変換し、年、月、日、曜日情報をそれぞれ抽出した列を作成します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pd.to_datetime()関数を用いて、&quot;date&quot;列を日付型に変換</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="c1"># 年、月、日、曜日情報をdate列から取得</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;weekday&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">weekday</span>

<span class="c1"># weekdayと曜日を対応付ける辞書</span>
<span class="n">weekday2yobi</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;月&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;火&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;水&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;木&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;金&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;土&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;日&quot;</span><span class="p">}</span>
<span class="c1"># weekdayを元に、weekday2yobiを用いてyobi列に曜日表現を格納</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;yobi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;weekday&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">weekday2yobi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<p>対象期間を確認しておきましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># date列の最小値と最大値を取得</span>
<span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">df_sleeping</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(Timestamp(&#39;2019-02-23 00:00:00&#39;), Timestamp(&#39;2026-01-22 00:00:00&#39;))
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">writing_time.csv</span></code>より広い期間を対象としている点に注意が必要です。</p>
<p>では、年ごとの傾向はどうだったのでしょうか？
<code class="docutils literal notranslate"><span class="pre">groupby</span></code>メソッドを用いて以下を集計してみます。</p>
<ul class="simple">
<li><p>日数</p></li>
<li><p>合計睡眠時間</p></li>
<li><p>1日あたりの平均睡眠時間</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># year列ごとにhours列のタスク数、合計時間数、そしてタスク１つあたりの平均時間を取得</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019</th>
      <td>312</td>
      <td>1950.480278</td>
      <td>6.251539</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>366</td>
      <td>2414.506944</td>
      <td>6.597014</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>365</td>
      <td>2467.735556</td>
      <td>6.760919</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>365</td>
      <td>2488.688889</td>
      <td>6.818326</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>365</td>
      <td>2508.851667</td>
      <td>6.873566</td>
    </tr>
    <tr>
      <th>2024</th>
      <td>366</td>
      <td>2374.918056</td>
      <td>6.488847</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>365</td>
      <td>2334.192778</td>
      <td>6.395049</td>
    </tr>
    <tr>
      <th>2026</th>
      <td>22</td>
      <td>142.789444</td>
      <td>6.490429</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">count</span></code>列から、開始・終了年を除き、毎日1レコードを記録していることがわかります。2020年と2024年は閏年であることに注意しましょう。</p>
<p>では、月ごとの傾向はどうでしょうか？
<code class="docutils literal notranslate"><span class="pre">mean</span></code>で昇順ソートしたものを見てみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># month列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="c1"># 解釈しやすいようにmeanを基準に昇順ソート</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>month</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>210</td>
      <td>1345.069722</td>
      <td>6.405094</td>
    </tr>
    <tr>
      <th>2</th>
      <td>176</td>
      <td>1129.661667</td>
      <td>6.418532</td>
    </tr>
    <tr>
      <th>3</th>
      <td>217</td>
      <td>1403.541667</td>
      <td>6.467934</td>
    </tr>
    <tr>
      <th>5</th>
      <td>217</td>
      <td>1425.471389</td>
      <td>6.568993</td>
    </tr>
    <tr>
      <th>6</th>
      <td>210</td>
      <td>1381.043889</td>
      <td>6.576399</td>
    </tr>
    <tr>
      <th>12</th>
      <td>217</td>
      <td>1427.598611</td>
      <td>6.578795</td>
    </tr>
    <tr>
      <th>7</th>
      <td>217</td>
      <td>1434.464167</td>
      <td>6.610434</td>
    </tr>
    <tr>
      <th>9</th>
      <td>210</td>
      <td>1389.378889</td>
      <td>6.616090</td>
    </tr>
    <tr>
      <th>11</th>
      <td>210</td>
      <td>1397.222222</td>
      <td>6.653439</td>
    </tr>
    <tr>
      <th>1</th>
      <td>208</td>
      <td>1386.513611</td>
      <td>6.665931</td>
    </tr>
    <tr>
      <th>10</th>
      <td>217</td>
      <td>1474.901667</td>
      <td>6.796782</td>
    </tr>
    <tr>
      <th>8</th>
      <td>217</td>
      <td>1487.296111</td>
      <td>6.853899</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>4、2、3月の睡眠時間が短い傾向があるのは、本業の繁忙期が原因かもしれません。</p>
<p>次は曜日ごとの傾向を見てみましょう。こちらも、解釈しやすいように<code class="docutils literal notranslate"><span class="pre">mean</span></code>で昇順ソートして表示します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># yobi列ごとにhours列の行数、合算値、そして平均値を算出</span>
<span class="c1"># 解釈しやすいようにmeanを基準に昇順ソート</span>
<span class="n">df_sleeping</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;yobi&quot;</span><span class="p">)[</span><span class="s2">&quot;hours&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>sum</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>yobi</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>土</th>
      <td>361</td>
      <td>2359.339722</td>
      <td>6.535567</td>
    </tr>
    <tr>
      <th>火</th>
      <td>361</td>
      <td>2362.276667</td>
      <td>6.543703</td>
    </tr>
    <tr>
      <th>木</th>
      <td>361</td>
      <td>2372.609444</td>
      <td>6.572325</td>
    </tr>
    <tr>
      <th>金</th>
      <td>360</td>
      <td>2367.307222</td>
      <td>6.575853</td>
    </tr>
    <tr>
      <th>水</th>
      <td>361</td>
      <td>2380.726111</td>
      <td>6.594809</td>
    </tr>
    <tr>
      <th>日</th>
      <td>361</td>
      <td>2418.700833</td>
      <td>6.700002</td>
    </tr>
    <tr>
      <th>月</th>
      <td>361</td>
      <td>2421.203611</td>
      <td>6.706935</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>曜日に関してはあまり納得感がありませんが、こういうものなのでしょう。</p>
</section>
</section>
<section id="eda-draft">
<span id="id9"></span><h2><span class="section-number">4.4. </span>草稿の基礎分析<a class="headerlink" href="#eda-draft" title="Link to this heading">#</a></h2>
<p>本書の草稿の集計情報を格納した<code class="docutils literal notranslate"><span class="pre">draft_stats.csv</span></code>の基礎分析を行います。
<code class="docutils literal notranslate"><span class="pre">draft_stats.csv</span></code>は以下の列を持つCSVファイルです：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vol</span></code>：上巻あるいは下巻。前者は<code class="docutils literal notranslate"><span class="pre">vol1</span></code>、後者は<code class="docutils literal notranslate"><span class="pre">vol2</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sec</span></code>：章名。基本的には<code class="docutils literal notranslate"><span class="pre">f&quot;{小番号:02}&quot;</span></code>で表現されるが、<code class="docutils literal notranslate"><span class="pre">00</span></code>は前付け、<code class="docutils literal notranslate"><span class="pre">appendix</span></code>は付録を表す。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chars</span></code>：合計文字数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lines</span></code>：合計行数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commas</span></code>：合計読点数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">periods</span></code>：合計句点数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>：ファイルサイズ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fns</span></code>：合計脚注数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">images</span></code>：合計画像数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>：合計コードブロック数</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bolds</span></code>：合計太字数</p></li>
</ul>
<section id="id10">
<h3><span class="section-number">4.4.1. </span>全体像の把握<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>全体像を眺めてみましょう。
まずはファイルを読み込みます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># pd.read_csv()関数を用いて、CSVファイルをDataFrameとして読み込む</span>
<span class="n">df_draft</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">DIR_IN</span> <span class="o">/</span> <span class="n">FN_DRAFT</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">head</span></code>メソッドで先頭5行を確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># headメソッドで先頭5行を確認</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>vol1</td>
      <td>00</td>
      <td>13754</td>
      <td>562</td>
      <td>248</td>
      <td>184</td>
      <td>31233</td>
      <td>6</td>
      <td>7</td>
      <td>13</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
    </tr>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
    </tr>
    <tr>
      <th>3</th>
      <td>vol1</td>
      <td>03</td>
      <td>46086</td>
      <td>1872</td>
      <td>629</td>
      <td>396</td>
      <td>91200</td>
      <td>18</td>
      <td>58</td>
      <td>51</td>
      <td>43</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">shape</span></code>メソッドでデータフレームの形状を確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># shapeメソッドでデータフレームの形状を確認</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(16, 11)
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">describe</span></code>メソッドで各列の統計情報を算出します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># describeメソッドで各列の統計情報を算出</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
      <td>16.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>49857.750000</td>
      <td>1966.500000</td>
      <td>767.500000</td>
      <td>493.000000</td>
      <td>106373.250000</td>
      <td>19.000000</td>
      <td>88.937500</td>
      <td>58.312500</td>
      <td>58.750000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>26540.643711</td>
      <td>1077.803136</td>
      <td>385.691587</td>
      <td>233.523161</td>
      <td>55583.685253</td>
      <td>11.248704</td>
      <td>53.558029</td>
      <td>56.620042</td>
      <td>36.837481</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2207.000000</td>
      <td>119.000000</td>
      <td>29.000000</td>
      <td>21.000000</td>
      <td>4509.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>33475.250000</td>
      <td>1256.250000</td>
      <td>649.250000</td>
      <td>396.000000</td>
      <td>82820.250000</td>
      <td>13.000000</td>
      <td>59.500000</td>
      <td>13.000000</td>
      <td>38.250000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>52655.000000</td>
      <td>2010.500000</td>
      <td>720.500000</td>
      <td>509.000000</td>
      <td>100972.000000</td>
      <td>18.000000</td>
      <td>94.500000</td>
      <td>58.000000</td>
      <td>62.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>75422.000000</td>
      <td>2872.500000</td>
      <td>1006.000000</td>
      <td>668.250000</td>
      <td>154485.250000</td>
      <td>25.500000</td>
      <td>133.250000</td>
      <td>79.000000</td>
      <td>81.500000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>85244.000000</td>
      <td>3611.000000</td>
      <td>1312.000000</td>
      <td>854.000000</td>
      <td>186358.000000</td>
      <td>41.000000</td>
      <td>159.000000</td>
      <td>225.000000</td>
      <td>126.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">isna</span></code>メソッドで、欠損率を算出します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># isnaで欠損かいなかを取得し、meanで平均を取る</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vol        0.0
sec        0.0
chars      0.0
lines      0.0
commas     0.0
periods    0.0
size       0.0
fns        0.0
images     0.0
codes      0.0
bolds      0.0
dtype: float64
</pre></div>
</div>
</div>
</details>
</div>
<p>全ての列において欠損がないように見えます。</p>
<p>最後に、<code class="docutils literal notranslate"><span class="pre">nunique</span></code>メソッドでユニークな値の数を集計します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nuniqueメソッドでユニークな値の数を集計</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vol         2
sec         9
chars      16
lines      16
commas     16
periods    15
size       16
fns        12
images     15
codes      15
bolds      15
dtype: int64
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol</span></code>については想定通り2種類（<code class="docutils literal notranslate"><span class="pre">vol1</span></code>、<code class="docutils literal notranslate"><span class="pre">vol2</span></code>）のみ存在することが確認できました。</p>
</section>
<section id="vol">
<h3><span class="section-number">4.4.2. </span><code class="docutils literal notranslate"><span class="pre">vol</span></code>列の深堀り<a class="headerlink" href="#vol" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">vol</span></code>（巻）に関して深堀りしてみましょう。
まずは、各巻に含まれる章数を確認します。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># volごとにsecのユニークな値を列挙</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;vol&quot;</span><span class="p">)[</span><span class="s2">&quot;sec&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>vol
vol1          [00, 01, 02, 03, 04, 05, 06, 07]
vol2    [00, 01, 02, 03, 04, 05, 06, appendix]
Name: sec, dtype: object
</pre></div>
</div>
</div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）は<code class="docutils literal notranslate"><span class="pre">00</span></code>から<code class="docutils literal notranslate"><span class="pre">07</span></code>まで、<code class="docutils literal notranslate"><span class="pre">vol2</span></code>は<code class="docutils literal notranslate"><span class="pre">00</span></code>から<code class="docutils literal notranslate"><span class="pre">06</span></code>までに加えて<code class="docutils literal notranslate"><span class="pre">appendix</span></code>が含まれているようです。
繰り返しになりますが、<code class="docutils literal notranslate"><span class="pre">00</span></code>は前付けを表します。</p>
<p>では、巻ごとの各種集計結果を見てみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 巻ごとに各数値の集計結果を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;vol&quot;</span><span class="p">)[</span>
    <span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">,</span> <span class="s2">&quot;lines&quot;</span><span class="p">,</span> <span class="s2">&quot;commas&quot;</span><span class="p">,</span> <span class="s2">&quot;periods&quot;</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="s2">&quot;fns&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;codes&quot;</span><span class="p">,</span> <span class="s2">&quot;bolds&quot;</span><span class="p">]</span>
<span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
    <tr>
      <th>vol</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>vol1</th>
      <td>379211</td>
      <td>15356</td>
      <td>6091</td>
      <td>3933</td>
      <td>804007</td>
      <td>185</td>
      <td>676</td>
      <td>482</td>
      <td>502</td>
    </tr>
    <tr>
      <th>vol2</th>
      <td>418513</td>
      <td>16108</td>
      <td>6189</td>
      <td>3955</td>
      <td>897965</td>
      <td>119</td>
      <td>747</td>
      <td>451</td>
      <td>438</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>まず、<code class="docutils literal notranslate"><span class="pre">chars</span></code>や<code class="docutils literal notranslate"><span class="pre">lines</span></code>や<code class="docutils literal notranslate"><span class="pre">size</span></code>だけを見ると、<code class="docutils literal notranslate"><span class="pre">vol1</span></code>より<code class="docutils literal notranslate"><span class="pre">vol2</span></code>がボリュームが大きいことがわかります。
一方で<code class="docutils literal notranslate"><span class="pre">fns</span></code>、<code class="docutils literal notranslate"><span class="pre">codes</span></code>、そして<code class="docutils literal notranslate"><span class="pre">bolds</span></code>に関しては<code class="docutils literal notranslate"><span class="pre">vol1</span></code>のほうが大きいことが印象的です。</p>
</section>
<section id="sec">
<h3><span class="section-number">4.4.3. </span><code class="docutils literal notranslate"><span class="pre">sec</span></code>列の深堀り<a class="headerlink" href="#sec" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">sec</span></code>（章）に関して深堀りしてみましょう。まず、ユニークな値を列挙してみます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sec列のユニークな値を列挙</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;sec&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;00&#39;, &#39;01&#39;, &#39;02&#39;, &#39;03&#39;, &#39;04&#39;, &#39;05&#39;, &#39;06&#39;, &#39;07&#39;, &#39;appendix&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</details>
</div>
<p>各章の登場回数を数え上げます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sec列中の要素の登場回数を数え上げる</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;sec&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sec
00          2
01          2
02          2
03          2
04          2
05          2
06          2
07          1
appendix    1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</details>
</div>
<p>前述した通り、<code class="docutils literal notranslate"><span class="pre">07</span></code>に関しては<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）のみに、<code class="docutils literal notranslate"><span class="pre">appendix</span></code>については<code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）のみに存在します。</p>
</section>
<section id="chars">
<h3><span class="section-number">4.4.4. </span><code class="docutils literal notranslate"><span class="pre">chars</span></code>列の深堀り<a class="headerlink" href="#chars" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">chars</span></code>（文字数）について深堀りしてみましょう。まず前提のおさらいですが、本稿における「文字数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">len</span></code>メソッドによって計算される値を指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>まずは、合計文字数を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chars列の合計を算出</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>797724
</pre></div>
</div>
</div>
</details>
</div>
<p>一般的に、4年制大学の卒業論文は2万〜4万字を目安とすることがあるようです。
単純比較することに意味はありませんが、その20-40倍程度の規模であることがわかりました。</p>
<p>では、文字数が特に多いのはどの章でしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chars列を基準に降順ソートし、トップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>草稿時点で最も文字数が多いのは、<code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">04</span></code>（4章）のようです。
この章では、変数間の関係を見るための7種類の手法を網羅的に紹介しました。
下巻1-4章は同様の構成を採用していますが、紹介する手法数が単調に増加しています。</p>
<ul class="simple">
<li><p>下巻1章：4手法</p></li>
<li><p>下巻2章：5手法</p></li>
<li><p>下巻3章：6手法</p></li>
<li><p>下巻4章：7手法</p></li>
</ul>
<p>文字数も同様に単調増加しているかどうか確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 下巻の1-4章を抽出して表示</span>
<span class="n">df_draft</span><span class="p">[(</span><span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;vol&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;vol2&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;sec&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;01&quot;</span><span class="p">,</span> <span class="s2">&quot;02&quot;</span><span class="p">,</span> <span class="s2">&quot;03&quot;</span><span class="p">,</span> <span class="s2">&quot;04&quot;</span><span class="p">])]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>vol2</td>
      <td>01</td>
      <td>39984</td>
      <td>1656</td>
      <td>656</td>
      <td>414</td>
      <td>88378</td>
      <td>14</td>
      <td>100</td>
      <td>45</td>
      <td>47</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>想定通り、文字数に関しても下巻1章 &lt; 下巻2章 &lt; 下巻3章 &lt; 下巻4章となっているようです。</p>
</section>
<section id="lines">
<h3><span class="section-number">4.4.5. </span><code class="docutils literal notranslate"><span class="pre">lines</span></code>列の深堀り<a class="headerlink" href="#lines" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">lines</span></code>（行数）に関して深堀りしてみましょう。まず前提のおさらいですが、本稿における「行数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code>の数 + 1 <a class="footnote-reference brackets" href="#final" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> によって算出されています。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>合計行数を確認してみます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lines列の合計値を算出</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>31464
</pre></div>
</div>
</div>
</details>
</div>
<p>1行あたりの文字数も気になります。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chars列の合計値をlines列の合計値で割る</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25.35354691075515
</pre></div>
</div>
</div>
</details>
</div>
<p>おおよそ1行あたり25文字程度のようです。ただし、以下に留意する必要があります：</p>
<ul class="simple">
<li><p>差分管理のしやすさを優先し、文章の途中でも意図的に改行を入れている</p></li>
<li><p>コードブロック、脚注、太字等の特殊記法の前後に意図的に改行を入れている</p></li>
</ul>
<p>例えば、以下は上巻1.1節の一部です：</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## データ可視化はとても身近</span>

<span class="gs">**データ可視化**</span>
とは何でしょうか？
データ可視化とは、簡単に言うと「複雑なデータを人間にとって理解しやすい形に変換する方法」です。
他の文献ではデータビジュアライゼーション、あるいはデータ視覚化と呼ばれることもあります。
理解しやすい形に変換する必要があるわけですから、
データ可視化対象となるのは、そのままでは「一見」して全貌を把握できない規模や形式の数値データ、テキストデータ、そして地理データなどがあるでしょう。
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">**データ可視化**</span></code>のように、太字で強調する文字列は必ず改行を挟んでいます。
また、<code class="docutils literal notranslate"><span class="pre">理解しやすい形に変換する必要があるわけですから、</span></code>等、文章の途中でも構わずに改行を入れています。</p>
<p>では、行数が多いのはどの章でしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lines列を基準に降順ソートし、トップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>文字数と異なり、<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">05</span></code>（5章）の行数が最も多いようです。
上巻5章では、Python、Pandas、Plotlyの基礎を取り扱います。
<code class="docutils literal notranslate"><span class="pre">codes</span></code>列を見ていただくと分かる通り、例として取り上げるコードが圧倒的に多いことが特徴です。
（草稿としての）可読性を高めるためコードブロックの前後に改行を入れていますし、
コードブロック内部でも積極的にコメント文を入れています<a class="footnote-reference brackets" href="#comments" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>。
上巻5章の草稿の行数が膨らんだ理由の一つは、そこにあるかもしれません。</p>
<p>では、行数の絶対量ではなく、文字数に対して相対的に行数が多い章はどれでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lines列をchras列で割った結果を格納するlines/chars列を追加し、それに基づいて降順ソート</span>
<span class="c1"># headメソッドを用いてトップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;lines/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;lines/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>lines/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>15</th>
      <td>vol2</td>
      <td>appendix</td>
      <td>2207</td>
      <td>119</td>
      <td>29</td>
      <td>21</td>
      <td>4509</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>5</td>
      <td>0.053919</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
      <td>0.045473</td>
    </tr>
    <tr>
      <th>6</th>
      <td>vol1</td>
      <td>06</td>
      <td>59224</td>
      <td>2574</td>
      <td>725</td>
      <td>478</td>
      <td>110744</td>
      <td>18</td>
      <td>89</td>
      <td>100</td>
      <td>24</td>
      <td>0.043462</td>
    </tr>
    <tr>
      <th>8</th>
      <td>vol2</td>
      <td>00</td>
      <td>12914</td>
      <td>545</td>
      <td>138</td>
      <td>153</td>
      <td>25791</td>
      <td>2</td>
      <td>6</td>
      <td>13</td>
      <td>3</td>
      <td>0.042202</td>
    </tr>
    <tr>
      <th>9</th>
      <td>vol2</td>
      <td>01</td>
      <td>39984</td>
      <td>1656</td>
      <td>656</td>
      <td>414</td>
      <td>88378</td>
      <td>14</td>
      <td>100</td>
      <td>45</td>
      <td>47</td>
      <td>0.041417</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>予想に反して、<code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">appendix</span></code>（付録）がトップとなりました。
文字数が比較的少ないにもかかわらず、コードブロック・脚注・太字等の改行の機会がそれなりにあったことが原因と考えられます。</p>
<p>逆に、文字数に対して行数が少ない章はどのような顔ぶれになるのでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lines列をchars列で割った結果を格納するlines/chars列を追加し、それに基づいて昇順ソート</span>
<span class="c1"># headメソッドを用いてトップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;lines/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;lines/chars&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>lines/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>vol2</td>
      <td>05</td>
      <td>62972</td>
      <td>2149</td>
      <td>716</td>
      <td>418</td>
      <td>121437</td>
      <td>15</td>
      <td>60</td>
      <td>67</td>
      <td>51</td>
      <td>0.034126</td>
    </tr>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>0.034897</td>
    </tr>
    <tr>
      <th>7</th>
      <td>vol1</td>
      <td>07</td>
      <td>38569</td>
      <td>1359</td>
      <td>708</td>
      <td>550</td>
      <td>88808</td>
      <td>23</td>
      <td>87</td>
      <td>17</td>
      <td>71</td>
      <td>0.035236</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
      <td>0.037497</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
      <td>0.037941</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">05</span></code>（5章）がトップのようです。
下巻の5章では、メディア展開データのハンズオンの前半として、データの取得・前処理・基礎分析を取り扱います。
草稿を眺めてみると、他の章と比較して箇条書きが多用されていることに気づきます。</p>
<p>例えば以下は、マンガ作品とアニメ作品を紐づける<code class="docutils literal notranslate"><span class="pre">ac_cc.csv</span></code>を自作する際の判断基準を記したコラムの抜粋です。
ここに限らず、マンガ作品名やアニメ作品名を箇条書き<a class="footnote-reference brackets" href="#return" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>内で列挙する場面がいくつか登場します。</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>&lt;column&gt;
<span class="gu">##Column `ac_cc.csv`の作成基準の具体例</span>

例を用いて、`ac_cc.csv`の作成基準を具体的に示します。

<span class="k">-</span><span class="w"> </span>対象アニメ作品：
<span class="w">    </span><span class="k">-</span><span class="w"> </span>テレビレギュラー番組のみを対象とし、OVA（Original Video Animation）は対象としない
<span class="w">    </span><span class="k">-</span><span class="w"> </span>アニメオリジナルの続編・スピンオフ等は、たとえ原作と共通の世界観を持っていたとしても除外する
<span class="w">        </span><span class="k">-</span><span class="w"> </span>例：アニメ`タッチ`シリーズ（`タッチ Miss Lonely Yesterday あれから、君は・・・`、`タッチ CROSS ROAD 風のゆくえ`）
<span class="w">        </span><span class="k">-</span><span class="w"> </span>例：アニメ`遊戯王`シリーズ（`遊戯王 VRAINS`、`遊☆戯☆王 デュエルモンスターズ GX`、`遊☆戯☆王5D&#39;S`、`遊★戯★王 ZEXAL`、`遊★戯★王アーク･ファイブ ARC-V`）
<span class="w">        </span><span class="k">-</span><span class="w"> </span>例：アニメ`マジンガーZ`シリーズ（`グレートマジンガー`、`マジンガーzip`）
<span class="w">        </span><span class="k">-</span><span class="w"> </span>例：アニメ`DRAGON BALL`シリーズ（`DRAGON BALL GT`、`DRAGON BALL 超[スーパー]`）

…（略）…
</pre></div>
</div>
<p>また、特殊なケースであるため影響は限定的ですが、非常に長いアニメ各話名を扱っているのもこの章です。
例えば以下は、5.3節の基礎分析の一部です。</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>四大少年誌に掲載されたマンガ作品を原作としたアニメ作品のうち、各話名が最も長かったのは、`School Rumble`の`[突然の「さよなら」…迷い 込んだラビリンス…あなたはだれ? …教えて。「すれちがい」「片想い」 とどけ、ボクの気持ち。とどけ、ワ タシの想い。たぶん一度しかない季 節、青春の1ページ。これが最後の チャンス、確かめたい…キミの気持 ち。伝わる言葉、伝わらない想い。 あの日の告白、永遠の一日、だけど …いつまでも続いていく、わたした ちの「いま」。そして明日へ… 「スクールランブルフォーエバー」]`であることがわかりました。
次に長いのは`銀魂`の`仕事のグチは家でこぼさず外でこぼせ!って言うからちょっとこぼさせてもらうけどね「侍の国」僕らの国がそう呼ばれていたのは今は昔の話…とか言って始まったこのアニメもはや一年半△あんな事こんな事いろんな事があったよね△で、そろそろ色々振り返ってもいいかなーと思ったのに「チェッ、なんだよ総集編かよ、手抜きじゃね?」とかアニメだって作るの大変なんだから文句言うのやめなさい!`です。
</pre></div>
</div>
<p>各話名中に改行を挟むことはできませんでしたので、1行あたりの文字数が増えた遠因となっている可能性があります。</p>
</section>
<section id="commas">
<h3><span class="section-number">4.4.6. </span><code class="docutils literal notranslate"><span class="pre">commas</span></code>列の深堀り<a class="headerlink" href="#commas" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">commas</span></code>（読点数）について深堀りします。
読点とは、「<code class="docutils literal notranslate"><span class="pre">、</span></code>」のことです。</p>
<p>まず、本書全体の読点数を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># commas列の合計値を算出</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;commas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12280
</pre></div>
</div>
</div>
</details>
</div>
<p>果たして多いのか少ないのかわかりません。そこで、以下のように集計方針を修正します：</p>
<ul class="simple">
<li><p>文字数と比較する</p></li>
<li><p>読点（<code class="docutils literal notranslate"><span class="pre">、</span></code>）だけでなく、句点（<code class="docutils literal notranslate"><span class="pre">。</span></code>）も合算する</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 本書の文字数を句読点数で割る</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="p">(</span><span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;commas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">+</span> <span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>39.55394684648949
</pre></div>
</div>
</div>
</details>
</div>
<p>句読点あたり平均約40文字が存在するようです。
もちろん内容に依存するため一概には言い切れませんが、<a class="reference external" href="https://tmstudy.net/marks/#index_id3" rel="noreferer noopener" target="_blank">読点は40文字を目安に打つと良い</a>とする記事もあります。
数値としては、そこまで違和感のある結果では無さそうです。</p>
<p>また、1文あたりの読点数も気になります。これは読点数（<code class="docutils literal notranslate"><span class="pre">commas</span></code>）を句点数（<code class="docutils literal notranslate"><span class="pre">periods</span></code>）で割ることで算出できます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 本書の読点数を句点数で割る</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;commas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5567951318458417
</pre></div>
</div>
</div>
</details>
</div>
<p>1文あたり（1句点あたり）平均1.6程度の読点を打っているようです。
本ブログの文章も、だいたいその程度のようです。
違和感はありません。</p>
<p>では、読点が特に多い章はどれでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># commas列を基準に降順ソートし、トップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;commas&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">chars</span></code>（文字数）が最も多い<code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">04</span></code>（4章）において、最も<code class="docutils literal notranslate"><span class="pre">commas</span></code>（句点数）が多かったようです。</p>
<p>では、1文あたりの読点数が多い章はどうでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 章ごとにcommasをperiodsで割った列を作成し、それに基づいて降順ソート</span>
<span class="c1"># headメソッドでトップ5のみ表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;commas/periods&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;commas&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;commas/periods&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>commas/periods</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>1.775253</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
      <td>1.719444</td>
    </tr>
    <tr>
      <th>13</th>
      <td>vol2</td>
      <td>05</td>
      <td>62972</td>
      <td>2149</td>
      <td>716</td>
      <td>418</td>
      <td>121437</td>
      <td>15</td>
      <td>60</td>
      <td>67</td>
      <td>51</td>
      <td>1.712919</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
      <td>1.677763</td>
    </tr>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
      <td>1.653704</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>1文あたりの読点が最も多かったのは、<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">01</span></code>（1章）のようです。
上巻の1章ではデータ可視化の導入として、周辺領域の基本知識を網羅的に列挙します。
筆者の筆力では噛み砕いて説明することが難しい概念も登場するため、冗長な文章になってしまったのかもしれません。</p>
</section>
<section id="periods">
<h3><span class="section-number">4.4.7. </span><code class="docutils literal notranslate"><span class="pre">periods</span></code>列の深堀り<a class="headerlink" href="#periods" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">periods</span></code>（句点数）について深堀りします。句点とは「<code class="docutils literal notranslate"><span class="pre">。</span></code>」のことです。</p>
<p>まず、本書全体の句点数を集計してみます。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># periods列の合計値を算出</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7888
</pre></div>
</div>
</div>
</details>
</div>
<p>日本語では、句点は文章の区切りを表します。
つまり、上記の結果は、本書中に7888文存在することを表します。</p>
<p>1文あたりの文字数が気になります。集計してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># chars列の合計値をperiods列の合計値で割る</span>
<span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_draft</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>101.13133874239351
</pre></div>
</div>
</div>
</details>
</div>
<p>1文あたり、平均100文字以上存在するようです。
<a class="reference external" href="https://ddnavi.com/serial/834659/a/" rel="noreferer noopener" target="_blank">1文の長さは40-60文字がベストという記事</a>もありますので、長すぎる気がします。</p>
<p>原因を追求するため、章ごとに同様の集計結果を見てみましょう。
1文あたりの文字数が多いトップ5章をリストアップします。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># charsをperiodsで割った新たな列を作成し、それを基準に降順ソート</span>
<span class="c1"># headメソッドでトップ5件のみ表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;chars/periods&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;periods&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;chars/periods&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>chars/periods</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>vol2</td>
      <td>05</td>
      <td>62972</td>
      <td>2149</td>
      <td>716</td>
      <td>418</td>
      <td>121437</td>
      <td>15</td>
      <td>60</td>
      <td>67</td>
      <td>51</td>
      <td>150.650718</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
      <td>124.465517</td>
    </tr>
    <tr>
      <th>6</th>
      <td>vol1</td>
      <td>06</td>
      <td>59224</td>
      <td>2574</td>
      <td>725</td>
      <td>478</td>
      <td>110744</td>
      <td>18</td>
      <td>89</td>
      <td>100</td>
      <td>24</td>
      <td>123.899582</td>
    </tr>
    <tr>
      <th>3</th>
      <td>vol1</td>
      <td>03</td>
      <td>46086</td>
      <td>1872</td>
      <td>629</td>
      <td>396</td>
      <td>91200</td>
      <td>18</td>
      <td>58</td>
      <td>51</td>
      <td>43</td>
      <td>116.378788</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
      <td>105.180939</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">05</span></code>（5章）において、最も1文あたりの文字数が多いようです。
前述したように、下巻の5章では箇条書きを多用しています。
筆者のこだわりとして、 <strong>箇条書きの末尾には句点をつけない</strong> ようにしています。
加えて、非常に長いマンガ作品名やマンガ作品名を取り扱っているのも下巻5章です。</p>
<p>また、コードブロックにおいても、句読点は少なくなる傾向があります。
<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">05</span></code>（5章）では非常に多くのコードブロックが存在するため、
比較的1文あたりの文字数が多くなっているのかもしれません。</p>
<p>以上から、厳密には、コードブロックや箇条書きを除外した文字数を分析対象とするべきです。
今回は私の稼働を確保できなかったため、簡易な分析にとどめました。</p>
</section>
<section id="size">
<h3><span class="section-number">4.4.8. </span><code class="docutils literal notranslate"><span class="pre">size</span></code>列の深堀り<a class="headerlink" href="#size" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">size</span></code>（ファイルサイズ）について深堀りします。
ちなみに、本稿における「ファイルサイズ」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">file_path</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">stat().st_size</span></code>によって取得したものを指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>まず、ファイルサイズが大きい章を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># size列を基準に降順ソートし、トップ5を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>想定通り、<code class="docutils literal notranslate"><span class="pre">chars</span></code>（文字数）が大きい章が並んでいます。</p>
<p>では、文字数と比較した相対的なファイルサイズでソートしてみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sizeをcharsで割った列を作成し、それに基づき降順ソート</span>
<span class="c1"># headメソッドで上位5章を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;size/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;size/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>size/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
      <td>2.480904</td>
    </tr>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>2.449148</td>
    </tr>
    <tr>
      <th>7</th>
      <td>vol1</td>
      <td>07</td>
      <td>38569</td>
      <td>1359</td>
      <td>708</td>
      <td>550</td>
      <td>88808</td>
      <td>23</td>
      <td>87</td>
      <td>17</td>
      <td>71</td>
      <td>2.302575</td>
    </tr>
    <tr>
      <th>0</th>
      <td>vol1</td>
      <td>00</td>
      <td>13754</td>
      <td>562</td>
      <td>248</td>
      <td>184</td>
      <td>31233</td>
      <td>6</td>
      <td>7</td>
      <td>13</td>
      <td>5</td>
      <td>2.270830</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
      <td>2.229838</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">02</span></code>（2章）がトップであることがわかりました。
上位5章の顔ぶれを見ると、<code class="docutils literal notranslate"><span class="pre">codes</span></code>（コードブロック数）が少ないものが目立ちます。</p>
<p>ここからは仮説です。
一般にコードブロックで用いられる英数字は1文字あたり1バイトですが、日本語などのマルチバイト文字は1文字あたり2〜4バイトを必要とします。
つまり、日本語を用いた場合、同じ文字数でもファイルサイズが大きくなります。
以上から、コードブロックの少ない章ではマルチバイト文字が支配的となり、1文字あたりのファイルサイズが大きくなってしまったのではないでしょうか。</p>
</section>
<section id="fns">
<h3><span class="section-number">4.4.9. </span><code class="docutils literal notranslate"><span class="pre">fns</span></code>列の深堀り<a class="headerlink" href="#fns" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">fns</span></code>（脚注数）について深堀りします。
ちなみに、本稿における「脚注数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fns</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;&lt;/fn&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">&lt;/fn&gt;</span></code>の数を指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>脚注が多い章を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fns列を基準に降順ソートし、上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;fns&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
    </tr>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">01</span></code>（1章）に最も多くの脚注が存在するようです。</p>
<p>これは技術評論社の指定するマークダウンの特徴ですが、 <strong>参考文献は脚注内で記載</strong> する必要があります。
例えば、以下は1.1節中の一部です。</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gu">## データ可視化の美しさと正しさ</span>

データ可視化のもう一つの大きな特徴は、芸術的な側面と科学的な側面を併せ持つ
&lt;fn&gt;
参考文献：Claus O Wilke、小林 儀匡、瀬戸山 雅人「データビジュアライゼーションの基礎 ―明確で、魅力的で、説得力のあるデータの見せ方・伝え方」（オライリージャパン、2022）
&lt;/fn&gt;
ことです。
</pre></div>
</div>
<p>上巻1章では、データ可視化に関する基本知識を網羅的に扱うため、多様な文献を引用します。
これにより脚注数が増えた可能性があります。</p>
<p>では、文字数あたりの脚注数はいかがでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fnsをcharsで割った列を作成し、その列を基準に降順ソート</span>
<span class="c1"># headメソッドで上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;fns/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;fns&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;fns/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>fns/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>0.001424</td>
    </tr>
    <tr>
      <th>15</th>
      <td>vol2</td>
      <td>appendix</td>
      <td>2207</td>
      <td>119</td>
      <td>29</td>
      <td>21</td>
      <td>4509</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>5</td>
      <td>0.000906</td>
    </tr>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
      <td>0.000714</td>
    </tr>
    <tr>
      <th>7</th>
      <td>vol1</td>
      <td>07</td>
      <td>38569</td>
      <td>1359</td>
      <td>708</td>
      <td>550</td>
      <td>88808</td>
      <td>23</td>
      <td>87</td>
      <td>17</td>
      <td>71</td>
      <td>0.000596</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
      <td>0.000446</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>今回も上巻1章がトップとなりました。</p>
</section>
<section id="images">
<h3><span class="section-number">4.4.10. </span><code class="docutils literal notranslate"><span class="pre">images</span></code>列の深堀り<a class="headerlink" href="#images" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">images</span></code>（画像数）列を深堀りします。
ちなみに、本稿における「画像数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">content</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;![&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">![</span></code>（画像タグ）の数を指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>まず、画像数が多い章を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># image列を基準に降順ソートし、上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">04</span></code>（4章）において最も画像が添付されたようです。
上巻の4章では、マンガデータの様々な可視化結果を紹介しています。
納得感のある結果です。</p>
<p>では、章内の文字数に対する画像数の比率はどうでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># images列をchars列で割った列を作成し、それに基づいて降順ソート</span>
<span class="c1"># headメソッドでトップ5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;images/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;images/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>images/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
      <td>0.003140</td>
    </tr>
    <tr>
      <th>9</th>
      <td>vol2</td>
      <td>01</td>
      <td>39984</td>
      <td>1656</td>
      <td>656</td>
      <td>414</td>
      <td>88378</td>
      <td>14</td>
      <td>100</td>
      <td>45</td>
      <td>47</td>
      <td>0.002501</td>
    </tr>
    <tr>
      <th>7</th>
      <td>vol1</td>
      <td>07</td>
      <td>38569</td>
      <td>1359</td>
      <td>708</td>
      <td>550</td>
      <td>88808</td>
      <td>23</td>
      <td>87</td>
      <td>17</td>
      <td>71</td>
      <td>0.002256</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
      <td>0.002192</td>
    </tr>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>0.002083</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>この基準では、<code class="docutils literal notranslate"><span class="pre">vol2</span></code>（下巻）の<code class="docutils literal notranslate"><span class="pre">02</span></code>（2章）がトップとなりました。
下巻の2章では、分布を見るための可視化手法の利用例をマンガ、アニメ、ゲームデータを例に紹介しています。</p>
</section>
<section id="codes">
<h3><span class="section-number">4.4.11. </span><code class="docutils literal notranslate"><span class="pre">codes</span></code>列の深堀り<a class="headerlink" href="#codes" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">codes</span></code>（コードブロック数）について深堀りします。
ちなみに、本稿における「コードブロック数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">codes</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;```&quot;</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">```</span></code>を2で割った値を指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>まずは、コードブロック数の多い章を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># codes列を基準に降順ソートし、上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;codes&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
    </tr>
    <tr>
      <th>6</th>
      <td>vol1</td>
      <td>06</td>
      <td>59224</td>
      <td>2574</td>
      <td>725</td>
      <td>478</td>
      <td>110744</td>
      <td>18</td>
      <td>89</td>
      <td>100</td>
      <td>24</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p><code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">05</span></code>（5章）が最も多いようです。
前述しましたが、上巻の5章ではPython、Pandas、Plotlyの基礎を紹介します。
比較的コードブロック数が多くなるのは納得感のある結果です。</p>
<p>では、文字数あたりのコードブロック数という観点ではどうなるでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># codes列をchars列で割った列を作成し、それに基づいて降順ソート</span>
<span class="c1"># headメソッドで上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;codes/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;codes&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;codes/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>codes/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>vol1</td>
      <td>05</td>
      <td>79409</td>
      <td>3611</td>
      <td>925</td>
      <td>638</td>
      <td>151478</td>
      <td>27</td>
      <td>106</td>
      <td>225</td>
      <td>56</td>
      <td>0.002833</td>
    </tr>
    <tr>
      <th>15</th>
      <td>vol2</td>
      <td>appendix</td>
      <td>2207</td>
      <td>119</td>
      <td>29</td>
      <td>21</td>
      <td>4509</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>5</td>
      <td>0.001812</td>
    </tr>
    <tr>
      <th>6</th>
      <td>vol1</td>
      <td>06</td>
      <td>59224</td>
      <td>2574</td>
      <td>725</td>
      <td>478</td>
      <td>110744</td>
      <td>18</td>
      <td>89</td>
      <td>100</td>
      <td>24</td>
      <td>0.001689</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
      <td>0.001221</td>
    </tr>
    <tr>
      <th>10</th>
      <td>vol2</td>
      <td>02</td>
      <td>63862</td>
      <td>2423</td>
      <td>962</td>
      <td>651</td>
      <td>140348</td>
      <td>20</td>
      <td>140</td>
      <td>73</td>
      <td>68</td>
      <td>0.001143</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>この観点でも、上巻の5章がトップとなりました。</p>
</section>
<section id="bolds">
<h3><span class="section-number">4.4.12. </span><code class="docutils literal notranslate"><span class="pre">bolds</span></code>列の深堀り<a class="headerlink" href="#bolds" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bolds</span></code>（太字数）について深堀りします。
ちなみに、本稿における「太字数」とは、</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bolds</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</pre></div>
</div>
<p>のように<code class="docutils literal notranslate"><span class="pre">**</span></code>を2で割った値を指します。
詳細は<a class="reference internal" href="preprocess.html#draft-stats"><span class="std std-ref">草稿の統計情報の取得</span></a>を参照ください。</p>
<p>まず、太字が最も多く登場する章を確認してみましょう。</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bolds列に基づいて降順ソートし、headで上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;bolds&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
    </tr>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
    </tr>
    <tr>
      <th>14</th>
      <td>vol2</td>
      <td>06</td>
      <td>75179</td>
      <td>2819</td>
      <td>1238</td>
      <td>720</td>
      <td>167637</td>
      <td>10</td>
      <td>131</td>
      <td>65</td>
      <td>98</td>
    </tr>
    <tr>
      <th>12</th>
      <td>vol2</td>
      <td>04</td>
      <td>85244</td>
      <td>3276</td>
      <td>1312</td>
      <td>854</td>
      <td>186358</td>
      <td>38</td>
      <td>158</td>
      <td>91</td>
      <td>86</td>
    </tr>
    <tr>
      <th>11</th>
      <td>vol2</td>
      <td>03</td>
      <td>76151</td>
      <td>3121</td>
      <td>1138</td>
      <td>724</td>
      <td>163507</td>
      <td>18</td>
      <td>152</td>
      <td>93</td>
      <td>80</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>太字が最も多く登場するのは、<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">04</span></code>（4章）のようです。
前述しましたが、上巻4章ではマンガデータを用いた多様な可視化例を紹介します。</p>
<p>では、文字数あたりの太字数はいかがでしょうか？</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bolds列をchars列で割った列を作成し、それに基づいて降順ソート</span>
<span class="c1"># headメソッドで上位5件を表示</span>
<span class="n">df_draft</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;bolds/chars&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;bolds&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="s2">&quot;bolds/chars&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>vol</th>
      <th>sec</th>
      <th>chars</th>
      <th>lines</th>
      <th>commas</th>
      <th>periods</th>
      <th>size</th>
      <th>fns</th>
      <th>images</th>
      <th>codes</th>
      <th>bolds</th>
      <th>bolds/chars</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>vol1</td>
      <td>02</td>
      <td>35034</td>
      <td>1340</td>
      <td>893</td>
      <td>540</td>
      <td>86916</td>
      <td>25</td>
      <td>110</td>
      <td>1</td>
      <td>105</td>
      <td>0.002997</td>
    </tr>
    <tr>
      <th>1</th>
      <td>vol1</td>
      <td>01</td>
      <td>28799</td>
      <td>1005</td>
      <td>703</td>
      <td>396</td>
      <td>70533</td>
      <td>41</td>
      <td>60</td>
      <td>0</td>
      <td>72</td>
      <td>0.002500</td>
    </tr>
    <tr>
      <th>15</th>
      <td>vol2</td>
      <td>appendix</td>
      <td>2207</td>
      <td>119</td>
      <td>29</td>
      <td>21</td>
      <td>4509</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>5</td>
      <td>0.002266</td>
    </tr>
    <tr>
      <th>7</th>
      <td>vol1</td>
      <td>07</td>
      <td>38569</td>
      <td>1359</td>
      <td>708</td>
      <td>550</td>
      <td>88808</td>
      <td>23</td>
      <td>87</td>
      <td>17</td>
      <td>71</td>
      <td>0.001841</td>
    </tr>
    <tr>
      <th>4</th>
      <td>vol1</td>
      <td>04</td>
      <td>78336</td>
      <td>3033</td>
      <td>1260</td>
      <td>751</td>
      <td>173095</td>
      <td>27</td>
      <td>159</td>
      <td>75</td>
      <td>126</td>
      <td>0.001608</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</details>
</div>
<p>文字数に対して太字が最も多く登場するのは、<code class="docutils literal notranslate"><span class="pre">vol1</span></code>（上巻）の<code class="docutils literal notranslate"><span class="pre">02</span></code>（2章）のようです。
上巻2章では、データ可視化に関する基本的な概念に関して詳細に解説します。
太字による強調が目立つのも納得できます。</p>
</section>
</section>
<section id="id14">
<h2><span class="section-number">4.5. </span>基礎分析のまとめ<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<p>本章では、本書の執筆時間、執筆期間中の睡眠時間、そして草稿の統計情報の3つのデータセットに対して基礎分析を行いました。
得られた主な知見は以下の通りです。</p>
<ol class="arabic simple">
<li><p><strong>執筆時間</strong>：</p>
<ul class="simple">
<li><p>合計時間は <strong>1161時間50分38秒</strong></p></li>
<li><p>2023年末から2024年前半、2025年12月から2026年1月に作業時間がとくに増加</p></li>
<li><p>長期休暇を取りやすい月や本業に余裕のある3-5月の合計作業時間が長い</p></li>
<li><p>想定通り、土日の合計作業時間が長い</p></li>
</ul>
</li>
<li><p><strong>睡眠時間</strong>：</p>
<ul class="simple">
<li><p>執筆期間中、ほぼ毎日の睡眠時間を記録している</p></li>
<li><p>2019年2月23日から2026年1月22日までの期間を対象としており、執筆時間のデータよりも広い</p></li>
</ul>
</li>
<li><p><strong>草稿</strong>：</p>
<ul class="simple">
<li><p>下巻（vol2）のほうが上巻（vol1）よりもボリュームが大きい</p></li>
<li><p>全体として、1行あたり約25文字、1文あたり約100文字である</p></li>
<li><p>句読点に着目すると、句読点あたり約40文字、1文あたり約1.6個の読点が存在する</p></li>
<li><p>コードブロックが少ない章において、1文字あたりのファイルサイズが大きい傾向にある</p></li>
<li><p>章別の各種集計結果は、基本的に直感に反しない</p></li>
</ul>
</li>
</ol>
<p>以上の知見は、本書の執筆プロセスや内容の特徴を定量的に表しています。
次章以降では、これらのデータを様々な観点から可視化します。</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="standardize" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">1</a><span class="fn-bracket">]</span></span>
<p>対象期間が2021年12月から2026年1月までですので、単純に合計すると12月と1月の作業量が多くなるのは自然です。厳密に比較するためには、対象期間中に含まれる日数で割るべきなのですが、今回は割愛しました。</p>
</aside>
<aside class="footnote brackets" id="final" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">2</a><span class="fn-bracket">]</span></span>
<p>最後の1行をカウントするために「+1」しています。</p>
</aside>
<aside class="footnote brackets" id="comments" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">3</a><span class="fn-bracket">]</span></span>
<p>コード1行あたりコメント1行を目安にコメントを入れています。</p>
</aside>
<aside class="footnote brackets" id="return" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">4</a><span class="fn-bracket">]</span></span>
<p>箇条書き内で改行する方法を私は知りませんでした。</p>
</aside>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./01"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="preprocess.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">3. </span>前処理</p>
      </div>
    </a>
    <a class="right-next"
       href="../02/amounts.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>量を見る</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">4.1. 環境構築</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-writing">4.2. 執筆時間の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">4.2.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#date">4.2.2. <code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#secondshours">4.2.3. <code class="docutils literal notranslate"><span class="pre">seconds</span></code>、<code class="docutils literal notranslate"><span class="pre">hours</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#category">4.2.4. <code class="docutils literal notranslate"><span class="pre">category</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#task">4.2.5. <code class="docutils literal notranslate"><span class="pre">task</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-sleeping">4.3. 睡眠時間の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">4.3.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4.3.2. <code class="docutils literal notranslate"><span class="pre">date</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-draft">4.4. 草稿の基礎分析</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">4.4.1. 全体像の把握</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vol">4.4.2. <code class="docutils literal notranslate"><span class="pre">vol</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sec">4.4.3. <code class="docutils literal notranslate"><span class="pre">sec</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chars">4.4.4. <code class="docutils literal notranslate"><span class="pre">chars</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lines">4.4.5. <code class="docutils literal notranslate"><span class="pre">lines</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commas">4.4.6. <code class="docutils literal notranslate"><span class="pre">commas</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#periods">4.4.7. <code class="docutils literal notranslate"><span class="pre">periods</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">4.4.8. <code class="docutils literal notranslate"><span class="pre">size</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fns">4.4.9. <code class="docutils literal notranslate"><span class="pre">fns</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#images">4.4.10. <code class="docutils literal notranslate"><span class="pre">images</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codes">4.4.11. <code class="docutils literal notranslate"><span class="pre">codes</span></code>列の深堀り</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bolds">4.4.12. <code class="docutils literal notranslate"><span class="pre">bolds</span></code>列の深堀り</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">4.5. 基礎分析のまとめ</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Kakeami
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  © Copyright 2026 by <a rel="kakeami" href="https://github.com/kakeami"> Kakeami </a>. このブログは<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">クリエイティブ・コモンズ 表示 - 非営利 - 改変禁止 4.0 国際 ライセンス</a>の下に提供されています． <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="クリエイティブ・コモンズ・ライセンス" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>　ただし，ブログ中のコードセル部分は<a rel="license" href="https://opensource.org/licenses/MIT">MITライセンス</a>の下に提供されています．

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>